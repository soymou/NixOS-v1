# Run Tor as a client, not a relay
BridgeRelay 0

# Data directory for Tor state (should be writable by Tor)
DataDirectory /var/lib/tor

# SocksPort to allow local applications to connect through Tor
SocksPort 127.0.0.1:9050

# Log notices to stdout (visible in systemd journal)
Log notice stdout

# Reject all exit traffic (make Tor a client-only node)
ExitPolicy reject *:*

# GeoIP files (adjust paths if needed for your system)
GeoIPFile /nix/store/i27yp0nyvz2k4xh5bxrs7dqpx1d14y2w-tor-0.4.8.16-geoip/share/tor/geoip
GeoIPv6File /nix/store/i27yp0nyvz2k4xh5bxrs7dqpx1d14y2w-tor-0.4.8.16-geoip/share/tor/geoip6

# Automatically handle .onion and .exit suffixes
AutomapHostsSuffixes .onion,.exit

# Prevent publishing your descriptor
PublishServerDescriptor 0

# Wait 30 seconds on shutdown for clean exit
ShutdownWaitLength 30
